pipeline{
    agent any
    tools
        {
            maven "maven"
        }
    stages{
        stage('maven build'){
        steps{
        withMaven(maven:'maven')
        {
        bat "mvn clean install"
        }
        }
        }
        stage('SonarQube analusis'){
            
        steps{
        withSonarQubeEnv('sonarcicd')
        {
        withMaven(maven:'maven')
        {
        bat "mvn sonar:sonar"
        }    
        }    
        }
        }
    }
}
